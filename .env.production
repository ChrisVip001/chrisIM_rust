# RustIM 生产环境配置

# 应用配置
ENVIRONMENT=production
RUST_LOG=info
APP_NAME=RustIM
APP_VERSION=1.0.0

# API 服务配置
API_HOST=0.0.0.0
API_PORT=8080
API_WORKERS=4

# WebSocket 服务配置
WEBSOCKET_HOST=0.0.0.0
WEBSOCKET_PORT=8085
WEBSOCKET_MAX_CONNECTIONS=10000

# 数据库配置
DATABASE_URL=postgres://rustim:CHANGE_THIS_PASSWORD@localhost:5432/rustim
DATABASE_MAX_CONNECTIONS=20
DATABASE_MIN_CONNECTIONS=5

# Redis 配置
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=20
REDIS_CONNECTION_TIMEOUT=5

# Kafka 配置
KAFKA_BROKERS=localhost:9092
KAFKA_GROUP_ID=rustim-production
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=true

# JWT 配置 (请更改为安全的密钥)
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_SECRET_KEY_IN_PRODUCTION
JWT_EXPIRATION=86400

# 文件上传配置
UPLOAD_MAX_SIZE=52428800
UPLOAD_ALLOWED_TYPES=jpg,jpeg,png,gif,pdf,doc,docx
UPLOAD_PATH=/app/uploads

# 邮件配置 (生产环境)
SMTP_HOST=smtp.your-domain.com
SMTP_PORT=587
SMTP_USERNAME=your-email@your-domain.com
SMTP_PASSWORD=your-email-password
SMTP_FROM_EMAIL=noreply@your-domain.com
SMTP_FROM_NAME=RustIM

# 日志配置
LOG_LEVEL=info
LOG_FILE=/app/logs/rustim.log
LOG_MAX_SIZE=500MB
LOG_MAX_FILES=10

# 安全配置
CORS_ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW=60

# 监控配置
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30

# 缓存配置
CACHE_TTL=7200
CACHE_MAX_ENTRIES=100000

# 消息配置
MESSAGE_MAX_LENGTH=4096
MESSAGE_HISTORY_LIMIT=1000
FILE_RETENTION_DAYS=90

# 用户配置
USER_MAX_SESSIONS=3
USER_SESSION_TIMEOUT=3600
PASSWORD_MIN_LENGTH=8

# 群组配置
GROUP_MAX_MEMBERS=1000
GROUP_MAX_ADMINS=20

# 通知配置
NOTIFICATION_ENABLED=true
PUSH_NOTIFICATION_ENABLED=true

# 生产配置
DEBUG_MODE=false
PROFILING_ENABLED=false
HOT_RELOAD=false

# SSL/TLS 配置
SSL_ENABLED=true
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=rustim-backups
BACKUP_S3_REGION=ap-beijing

# 性能配置
CONNECTION_POOL_SIZE=20
WORKER_THREADS=4
MAX_REQUEST_SIZE=10MB
REQUEST_TIMEOUT=30

# 腾讯云配置
TENCENT_CLOUD_SECRET_ID=your-secret-id
TENCENT_CLOUD_SECRET_KEY=your-secret-key
TENCENT_CLOUD_REGION=ap-beijing
COS_BUCKET=rustim-files
CDN_DOMAIN=cdn.your-domain.com 
# RustIM 测试环境配置

# 应用配置
ENVIRONMENT=staging
RUST_LOG=debug
APP_NAME=RustIM
APP_VERSION=1.0.0

# API 服务配置
API_HOST=0.0.0.0
API_PORT=8080
API_WORKERS=2

# WebSocket 服务配置
WEBSOCKET_HOST=0.0.0.0
WEBSOCKET_PORT=8085
WEBSOCKET_MAX_CONNECTIONS=1000

# 数据库配置
DATABASE_URL=postgres://rustim:rustim_password@localhost:5432/rustim_staging
DATABASE_MAX_CONNECTIONS=10
DATABASE_MIN_CONNECTIONS=1

# Redis 配置
REDIS_URL=redis://localhost:6379/1
REDIS_MAX_CONNECTIONS=10
REDIS_CONNECTION_TIMEOUT=5

# Kafka 配置
KAFKA_BROKERS=localhost:9092
KAFKA_GROUP_ID=rustim-staging
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=true

# JWT 配置
JWT_SECRET=staging_jwt_secret_key_change_in_production
JWT_EXPIRATION=86400

# 文件上传配置
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=jpg,jpeg,png,gif,pdf,doc,docx
UPLOAD_PATH=/app/uploads

# 邮件配置 (测试环境)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=test@example.com
SMTP_PASSWORD=test_password
SMTP_FROM_EMAIL=noreply@rustim-staging.com
SMTP_FROM_NAME=RustIM Staging

# 日志配置
LOG_LEVEL=debug
LOG_FILE=/app/logs/rustim.log
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=5

# 安全配置
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# 监控配置
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30

# 缓存配置
CACHE_TTL=3600
CACHE_MAX_ENTRIES=10000

# 消息配置
MESSAGE_MAX_LENGTH=4096
MESSAGE_HISTORY_LIMIT=100
FILE_RETENTION_DAYS=30

# 用户配置
USER_MAX_SESSIONS=5
USER_SESSION_TIMEOUT=7200
PASSWORD_MIN_LENGTH=8

# 群组配置
GROUP_MAX_MEMBERS=500
GROUP_MAX_ADMINS=10

# 通知配置
NOTIFICATION_ENABLED=true
PUSH_NOTIFICATION_ENABLED=false

# 开发配置
DEBUG_MODE=true
PROFILING_ENABLED=true
HOT_RELOAD=true 